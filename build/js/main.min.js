"use strict";window.menuToggle={initialize:function(t){function n(){i.classList.remove(t+"--opened"),document.removeEventListener("keydown",r),document.removeEventListener("click",o)}var i=document.querySelector("."+t),o=function(e){e.target!==i&&i.classList.contains(t+"--opened")&&(n(),e.preventDefault())},r=function(e){27===e.keyCode&&(n(),e.preventDefault())};i.addEventListener("click",function(e){i&&(i.classList.contains(t+"--opened")?n():(i.classList.add(t+"--opened"),document.addEventListener("keydown",r),document.addEventListener("click",o)),e.preventDefault())}),window.addEventListener("resize",function(){n()})}},window.slider={initialize:function(i,n){var o=document.querySelector("."+i),e=o.querySelector("."+i+"__control--prev"),t=o.querySelector("."+i+"__control--next"),r=o.querySelectorAll("."+i+"__item"),c=o.querySelectorAll("."+i+"__indicator");function a(e,t){for(var n=-1,i=0;i<t.length;i++)if(e===t[i]){n=i;break}return n}function l(){for(var e=function(){var e=a(d(),r);return e<n?0:e-n+1}(),t=0;t<r.length;t++)e<=t&&t<e+n?r[t].classList.remove(i+"__item--hide"):r[t].classList.add(i+"__item--hide")}function s(){return 0<c.length}n=n||r.length;var d=function(){return o.querySelector("."+i+"__item--active")},u=function(e){var t=a(d(),r),n=a(o.querySelector("."+i+"__indicator--active"),c);r[t].classList.remove(i+"__item--active"),s()&&c[n].classList.remove(i+"__indicator--active"),t=(e+r.length)%r.length,r[t].classList.add(i+"__item--active"),s()&&c[t].classList.add(i+"__indicator--active"),l()};e&&e.addEventListener("click",function(e){e.preventDefault(),u(a(d(),r)-1)}),t&&t.addEventListener("click",function(e){e.preventDefault(),u(a(d(),r)+1)}),o.addEventListener("click",function(e){e.preventDefault();var t=e.target.closest("."+i+"__indicator");if(t)u(a(t,c));else{var n=e.target.closest("."+i+"__item");n&&u(a(n,r))}}),l()}},window.toggle={initialize:function(e,r){function n(){768<=document.body.clientWidth&&document.body.clientWidth<1024?(c=!0,a.style.height=function(){var e=0,t=0;if(a.querySelector("."+r+"--opened"))for(var n=0;n<l.length;n++){var i=l[n].parentElement.clientHeight;l[n].classList.contains(r+"--opened")?e=i:t+=i}else{var o=Math.round(l.length/2);for(n=0;n<l.length;n++)i=l[n].parentElement.clientHeight,n<o?e+=i:t+=i}return t<e?e:t}()+"px"):(c=!1,a.style.height="auto")}function i(e){e.classList.remove(r+"--opened"),c&&(e.parentElement.style.marginBottom="0",e.parentElement.style.order=0)}function o(e){for(var t=0;t<l.length;t++)l[t]!==e&&l[t].classList.contains(r+"--opened")&&i(l[t])}var c=!1,a=document.querySelector("."+e),l=a.querySelectorAll("."+r);n(),a.addEventListener("click",function(e){var t=e.target.closest("."+r);o(t),t&&(t.classList.contains(r+"--opened")?i(t):function(e){e.classList.add(r+"--opened"),c&&(e.parentElement.style.marginBottom="auto",e.parentElement.style.order=-1)}(t)),n(),e.preventDefault()}),window.addEventListener("resize",function(){o(null),n()})}},function(){document.querySelector(".no-js").classList.remove("no-js");function t(e){document.querySelector(".footer__end-text").scrollIntoView({behavior:"smooth"}),e.preventDefault()}var e=document.querySelector(".call-menu__button-link"),n=document.querySelector(".banner__button--services"),i=document.querySelector(".banner__button--contact");e.addEventListener("click",function(e){t(e)}),n.addEventListener("click",function(e){document.querySelector(".services").scrollIntoView({behavior:"smooth"}),e.preventDefault()}),i.addEventListener("click",function(e){t(e)});function o(){1024<=document.body.clientWidth?(window.slider.initialize("advantages",null),window.slider.initialize("partners",null)):768<=document.body.clientWidth&&document.body.clientWidth<1024?(window.slider.initialize("advantages",3),window.slider.initialize("partners",3)):(window.slider.initialize("advantages",1),window.slider.initialize("partners",1))}!function(){window.addEventListener("resize",o),window.menuToggle.initialize("header__menu-toggle"),window.toggle.initialize("services__list","services__header"),window.phoneMask.setMask(document.querySelector("#phone"));var e=document.querySelector(".contacts").cloneNode(!0);e.classList.add("contacts--new"),document.querySelector(".footer__nav").insertAdjacentElement("beforeend",e),ymaps.ready(function(){var e=new ymaps.Map("map__container",{center:[55.631968,37.618355],zoom:18}),t=new ymaps.Placemark(e.getCenter(),{balloonContentBody:["<address>Варшавка SKY</address>"].join("")},{preset:"islands#greenIcon"});e.geoObjects.add(t)}),o()}()}();
//# sourceMappingURL=main.min.js.map
