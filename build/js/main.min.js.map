{"version":3,"sources":["menu-toggle.js","slider.js","toggle.js","main.js"],"names":["window","menuToggle","initialize","toggleClassName","closeMenu","toggleElement","classList","remove","document","removeEventListener","onKeyPress","onClick","querySelector","evt","target","contains","preventDefault","keyCode","addEventListener","add","slider","sliderClassName","visibleSlidesCount","sliderElement","sliderControlPrevElement","sliderControlNextElement","slideElements","querySelectorAll","indicatorElements","getElementIndex","element","elements","index","i","length","setDisableElements","startVisibleElementIndex","curreentSladeElementIndex","getCurrentSlideElement","getStartVisibleElementIndex","isIndicatorElements","showSlide","newSlideIndex","currentSlideIndex","currentIndicatorIndex","indicatorElement","closest","slideElement","toggle","containerClassName","setContainerHeight","body","clientWidth","twoCol","containerElement","style","height","heightLeft","heightRight","toggleElements","elementHeight","parentElement","clientHeight","countColItemsCount","Math","round","getContainerHeight","setCloseElement","marginBottom","order","setCloseElements","currToggleElement","setOpenElement","ESC_KEYCODE","footerEndScroll","openMenu","behavior","callButton","contactButton","servicesButton","scrollIntoView","onToggleClick","onResize","phoneMask","setMask","newContactElement","cloneNode","insertAdjacentElement","ymaps","Placemark","myMap","getCenter","join","myPlacemark","main"],"mappings":"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","file":"main.min.js","sourcesContent":["'use strict';\n(function () {\n  var ESC_KEYCODE = 27;\n\n  var initialize = function (toggleClassName) {\n    var toggleElement = document.querySelector('.' + toggleClassName);\n\n    var openMenu = function () {\n      toggleElement.classList.add(toggleClassName + '--opened');\n      document.addEventListener('keydown', onKeyPress);\n      document.addEventListener('click', onClick);\n\n    };\n\n    var closeMenu = function () {\n      toggleElement.classList.remove(toggleClassName + '--opened');\n      document.removeEventListener('keydown', onKeyPress);\n      document.removeEventListener('click', onClick);\n\n    };\n\n    var onClick = function (evt) {\n      if (evt.target !== toggleElement && toggleElement.classList.contains(toggleClassName + '--opened')) {\n        closeMenu();\n        evt.preventDefault();\n      }\n    };\n\n    var onKeyPress = function (evt) {\n      if (evt.keyCode === ESC_KEYCODE) {\n        closeMenu();\n        evt.preventDefault();\n      }\n    };\n\n    var onToggleClick = function (evt) {\n      if (toggleElement) {\n        if (toggleElement.classList.contains(toggleClassName + '--opened')) {\n          closeMenu();\n        } else {\n          openMenu();\n        }\n        evt.preventDefault();\n      }\n    };\n\n    var onResize = function () {\n      closeMenu();\n    };\n\n    toggleElement.addEventListener('click', onToggleClick);\n    window.addEventListener('resize', onResize);\n  };\n\n  window.menuToggle = {\n    initialize: initialize,\n  };\n})();\n","'use strict';\n(function () {\n  var initialize = function (sliderClassName, visibleSlidesCount) {\n    var sliderElement = document.querySelector('.' + sliderClassName);\n    var sliderControlPrevElement = sliderElement.querySelector('.' + sliderClassName + '__control--prev');\n    var sliderControlNextElement = sliderElement.querySelector('.' + sliderClassName + '__control--next');\n\n    var slideElements = sliderElement.querySelectorAll('.' + sliderClassName + '__item');\n    var indicatorElements = sliderElement.querySelectorAll('.' + sliderClassName + '__indicator');\n\n    if (!visibleSlidesCount) {\n      visibleSlidesCount = slideElements.length;\n    }\n\n    var getElementIndex = function (element, elements) {\n      var index = -1;\n      for (var i = 0; i < elements.length; i++) {\n        if (element === elements[i]) {\n          index = i;\n          break;\n        }\n      }\n      return index;\n    };\n\n    var getStartVisibleElementIndex = function () {\n      var curreentSladeElementIndex = getElementIndex(getCurrentSlideElement(), slideElements);\n\n      if (curreentSladeElementIndex < visibleSlidesCount) {\n        return 0;\n      } else {\n        return curreentSladeElementIndex - visibleSlidesCount + 1;\n      }\n    };\n\n    var setDisableElements = function () {\n      var startVisibleElementIndex = getStartVisibleElementIndex();\n      for (var i = 0; i < slideElements.length; i++) {\n        if (i >= startVisibleElementIndex && i < startVisibleElementIndex + visibleSlidesCount) {\n          slideElements[i].classList.remove(sliderClassName + '__item--hide');\n        } else {\n          slideElements[i].classList.add(sliderClassName + '__item--hide');\n        }\n      }\n    };\n\n    var getCurrentSlideElement = function () {\n      return sliderElement.querySelector('.' + sliderClassName + '__item--active');\n    };\n\n    var getCurrentIndicatorElement = function () {\n      return sliderElement.querySelector('.' + sliderClassName + '__indicator--active');\n    };\n\n    var isIndicatorElements = function () {\n      return indicatorElements.length > 0 ? true : false;\n    };\n\n    var onControlPrevClick = function (evt) {\n      evt.preventDefault();\n      showSlide(getElementIndex(getCurrentSlideElement(), slideElements) - 1);\n    };\n\n    var onControlNextClick = function (evt) {\n      evt.preventDefault();\n      showSlide(getElementIndex(getCurrentSlideElement(), slideElements) + 1);\n    };\n\n    var onIndicatorChange = function (evt) {\n      evt.preventDefault();\n      var indicatorElement = evt.target.closest('.' + sliderClassName + '__indicator');\n      if (indicatorElement) {\n        showSlide(getElementIndex(indicatorElement, indicatorElements));\n      } else {\n        var slideElement = evt.target.closest('.' + sliderClassName + '__item');\n        if (slideElement) {\n          showSlide(getElementIndex(slideElement, slideElements));\n        }\n      }\n    };\n\n    var showSlide = function (newSlideIndex) {\n      var currentSlideIndex = getElementIndex(getCurrentSlideElement(), slideElements);\n      var currentIndicatorIndex = getElementIndex(getCurrentIndicatorElement(), indicatorElements);\n\n      slideElements[currentSlideIndex].classList.remove(sliderClassName + '__item--active');\n      if (isIndicatorElements()) {\n        indicatorElements[currentIndicatorIndex].classList.remove(sliderClassName + '__indicator--active');\n      }\n\n      currentSlideIndex = (newSlideIndex + slideElements.length) % slideElements.length;\n      slideElements[currentSlideIndex].classList.add(sliderClassName + '__item--active');\n\n      if (isIndicatorElements()) {\n        indicatorElements[currentSlideIndex].classList.add(sliderClassName + '__indicator--active');\n      }\n      setDisableElements();\n    };\n\n    if (sliderControlPrevElement) {\n      sliderControlPrevElement.addEventListener('click', onControlPrevClick);\n    }\n    if (sliderControlNextElement) {\n      sliderControlNextElement.addEventListener('click', onControlNextClick);\n    }\n\n    sliderElement.addEventListener('click', onIndicatorChange);\n    setDisableElements();\n  };\n\n  window.slider = {\n    initialize: initialize,\n  };\n})();\n","'use strict';\n(function () {\n  var initialize = function (containerClassName, toggleClassName) {\n    var twoCol = false;\n    var containerElement = document.querySelector('.' + containerClassName);\n    var toggleElements = containerElement.querySelectorAll('.' + toggleClassName);\n\n    var getContainerHeight = function () {\n      // Определить высоту контейнера\n      var heightLeft = 0;\n      var heightRight = 0;\n\n      var openedToggleElement = containerElement.querySelector('.' + toggleClassName + '--opened');\n      // есть открытые\n      if (openedToggleElement) {\n        for (var i = 0; i < toggleElements.length; i++) {\n          var elementHeight = toggleElements[i].parentElement.clientHeight;\n          if (toggleElements[i].classList.contains(toggleClassName + '--opened')) {\n            heightLeft = elementHeight;\n          } else {\n            heightRight += elementHeight;\n          }\n        }\n      } else {\n        var countColItemsCount = Math.round(toggleElements.length / 2);\n        for (i = 0; i < toggleElements.length; i++) {\n          elementHeight = toggleElements[i].parentElement.clientHeight;\n          if (i < countColItemsCount) {\n            heightLeft += elementHeight;\n          } else {\n            heightRight += elementHeight;\n          }\n        }\n      }\n      return heightLeft > heightRight ? heightLeft : heightRight;\n    };\n\n\n    var setContainerHeight = function () {\n      //\n      if (document.body.clientWidth >= 768 && document.body.clientWidth < 1024) {\n        twoCol = true;\n        containerElement.style.height = getContainerHeight() + 'px';\n      } else {\n        twoCol = false;\n        containerElement.style.height = 'auto';\n      }\n    };\n\n    var setOpenElement = function (element) {\n      element.classList.add(toggleClassName + '--opened');\n      if (twoCol) {\n        element.parentElement.style.marginBottom = 'auto';\n        element.parentElement.style.order = -1;\n      }\n    };\n\n    var setCloseElement = function (element) {\n      element.classList.remove(toggleClassName + '--opened');\n      if (twoCol) {\n        element.parentElement.style.marginBottom = '0';\n        element.parentElement.style.order = 0;\n      }\n    };\n\n    var setCloseElements = function (currToggleElement) {\n      for (var i = 0; i < toggleElements.length; i++) {\n        if (toggleElements[i] !== currToggleElement && toggleElements[i].classList.contains(toggleClassName + '--opened')) {\n          setCloseElement(toggleElements[i]);\n        }\n      }\n    };\n\n    var onContainerClick = function (evt) {\n      var toggleElement = evt.target.closest('.' + toggleClassName);\n      setCloseElements(toggleElement);\n      if (toggleElement) {\n        if (toggleElement.classList.contains(toggleClassName + '--opened')) {\n          setCloseElement(toggleElement);\n        } else {\n          setOpenElement(toggleElement);\n        }\n      }\n      setContainerHeight();\n      evt.preventDefault();\n    };\n\n\n    var onResize = function () {\n      setCloseElements(null);\n      setContainerHeight();\n    };\n\n    setContainerHeight();\n    containerElement.addEventListener('click', onContainerClick);\n    window.addEventListener('resize', onResize);\n  };\n\n  window.toggle = {\n    initialize: initialize,\n  };\n}\n)();\n","'use strict';\n(function () {\n  var noJsElement = document.querySelector('.no-js');\n  noJsElement.classList.remove('no-js');\n  var callButton = document.querySelector('.call-menu__button-link');\n  var servicesButton = document.querySelector('.banner__button--services');\n  var contactButton = document.querySelector('.banner__button--contact');\n\n  var footerEndScroll = function (evt) {\n    document.querySelector('.footer__end-text').scrollIntoView({behavior: 'smooth'});\n    evt.preventDefault();\n  };\n\n  var onCallButtonClick = function (evt) {\n    footerEndScroll(evt);\n  };\n\n  var onServicesButtonClick = function (evt) {\n    document.querySelector('.services').scrollIntoView({behavior: 'smooth'});\n    evt.preventDefault();\n  };\n\n  var onContactButtonClick = function (evt) {\n    footerEndScroll(evt);\n  };\n\n  callButton.addEventListener('click', onCallButtonClick);\n  servicesButton.addEventListener('click', onServicesButtonClick);\n  contactButton.addEventListener('click', onContactButtonClick);\n\n  var onResize = function () {\n    if (document.body.clientWidth >= 1024) {\n      window.slider.initialize('advantages', null);\n      window.slider.initialize('partners', null);\n    } else if (document.body.clientWidth >= 768 && document.body.clientWidth < 1024) {\n      window.slider.initialize('advantages', 3);\n      window.slider.initialize('partners', 3);\n    } else {\n      window.slider.initialize('advantages', 1);\n      window.slider.initialize('partners', 1);\n    }\n  };\n\n\n  var main = function () {\n    window.addEventListener('resize', onResize);\n\n    window.menuToggle.initialize('header__menu-toggle');\n    window.toggle.initialize('services__list', 'services__header');\n    window.phoneMask.setMask(document.querySelector('#phone'));\n\n    /* Дублируем contacts */\n\n    var contactsElement = document.querySelector('.contacts');\n    var newContactElement = contactsElement.cloneNode(true);\n    newContactElement.classList.add('contacts--new');\n    var footerNavelement = document.querySelector('.footer__nav');\n    footerNavelement.insertAdjacentElement('beforeend', newContactElement);\n\n    /* map */\n\n    ymaps.ready(init);\n\n    function init() {\n      var myMap = new ymaps.Map('map__container', {\n        center: [55.631968, 37.618355],\n        zoom: 18,\n      });\n      var myPlacemark = new ymaps.Placemark(myMap.getCenter(), {\n        balloonContentBody: [\n          '<address>Варшавка SKY</address>',\n        ].join(''),\n      }, {preset: 'islands#greenIcon'});\n      myMap.geoObjects.add(myPlacemark);\n    }\n\n    onResize();\n  };\n\n  main();\n})();\n"]}